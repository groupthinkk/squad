<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Squad Friends & Family</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/TimeCircles.css">
    <link rel="stylesheet" href="../static/css/homestyle.css" type="text/css" />
    <!-- <link rel="stylesheet" href="../static/css/main.css"> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <script type="text/javascript" src="../static/js/jquery.easypiechart.min.js"></script>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>
<body class="end">
    <div class="main">
        <h1>Good job!</h1>

        <div class="chart-container">
            <div class="chart" data-percent="{{ rater_percentage }}" data-scale-color="#beb08d">{{ num_right }}</div>
        </div>

        <p>
            <b>Congratulations, you've finished the challenge with {{ rater_percentage }}% accuracy.</b>
        </p>
        <p>
            <button type="button" class="btn btn-big" data-toggle="modal" data-target="#myModal">
              Leaderboard
          </button>
      </p>

      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Leaderboard</h4>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                  <table class="table table-striped" data-search="true" data-page-size="25" data-side-pagination="client" data-pagination="true">
                    <tr>
                        <th>Rank</th>
                        <th>Name</th>
                        <th>Score</th>
                    </tr>
                    = for user in leaderboard_users
                        = if user.current_user == "you"
                        <tr class="info">
                            <td>{{user.rank}}</td>
                            <td>{{user.name}}</td>
                            <td>{{user.score}}</td>
                        </tr>
                        = elif user.current_user == "break"
                        <tr>
                            <td>â‹®</td>
                            <td></td>
                            <td></td>
                        </tr>
                        = else
                        <tr>
                            <td>{{user.rank}}</td>
                            <td>{{user.name}}</td>
                            <td>{{user.score}}</td>
                        </tr>
                        = endif
                    = endfor
                </table>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
    </div>
</div>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

<script>
    $(function() {
        $('.chart').easyPieChart({

            barColor:'#ee6677',
            scaleColor: true,
            lineWidth: 20,
            lineCap:'circle',
            size: 200

        });
    });
</script>
</body>
</html>